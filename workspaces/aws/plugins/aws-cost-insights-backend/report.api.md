## API Report File for "@alithya-oss/backstage-plugin-cost-insights-aws-backend"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts
import { AuthService } from '@backstage/backend-plugin-api';
import { AwsCredentialsManager } from '@backstage/integration-aws-node';
import { BackendFeature } from '@backstage/backend-plugin-api';
import { BackstageCredentials } from '@backstage/backend-plugin-api';
import { CacheService } from '@backstage/backend-plugin-api';
import { CatalogApi } from '@backstage/catalog-client';
import { CompoundEntityRef } from '@backstage/catalog-model';
import { Cost } from '@backstage-community/plugin-cost-insights-common';
import { CostExplorerClient } from '@aws-sdk/client-cost-explorer';
import { DiscoveryService } from '@backstage/backend-plugin-api';
import express from 'express';
import { HttpAuthService } from '@backstage/backend-plugin-api';
import { LoggerService } from '@backstage/backend-plugin-api';
import { ServiceRef } from '@backstage/backend-plugin-api';

// @public (undocumented)
export class CostExplorerCostInsightsAwsService
  implements CostInsightsAwsService
{
  constructor(
    logger: LoggerService,
    auth: AuthService,
    catalogApi: CatalogApi,
    costExplorerClient: CostExplorerClient,
    config: CostInsightsAwsConfig,
  );
  // (undocumented)
  static fromConfig(
    config: CostInsightsAwsConfig,
    options: {
      catalogApi: CatalogApi;
      discovery: DiscoveryService;
      auth?: AuthService;
      httpAuth?: HttpAuthService;
      logger: LoggerService;
      credentialsManager: AwsCredentialsManager;
    },
  ): Promise<CostExplorerCostInsightsAwsService>;
  // (undocumented)
  getCatalogEntityDailyCost(options: {
    entityRef: CompoundEntityRef;
    intervals: string;
    credentials?: BackstageCredentials;
  }): Promise<Cost>;
}

// @public (undocumented)
export type CostInsightsAwsConfig = {
  cache: CostInsightsAwsConfigCache;
  entityGroups: CostInsightsAwsConfigEntityGroup[];
  costExplorer: CostInsightsAwsConfigCostExplorer;
};

// @public (undocumented)
export type CostInsightsAwsConfigCache = {
  enable: boolean;
  defaultTtl: number;
  readTimeout: number;
};

// @public (undocumented)
export type CostInsightsAwsConfigCostExplorer = {
  accountId: string | undefined;
  region: string | undefined;
};

// @public (undocumented)
export type CostInsightsAwsConfigEntityGroup = {
  kind: string;
  groups: CostInsightsAwsConfigGroup[];
};

// @public (undocumented)
export type CostInsightsAwsConfigGroup = {
  name: string;
  key: string;
  type: string;
};

// @public (undocumented)
const costInsightsAwsPlugin: BackendFeature;
export default costInsightsAwsPlugin;

// @public (undocumented)
export interface CostInsightsAwsService {
  // (undocumented)
  getCatalogEntityDailyCost(options: {
    entityRef: CompoundEntityRef;
    intervals: string;
    credentials?: BackstageCredentials;
  }): Promise<Cost>;
}

// @public (undocumented)
export const costInsightsAwsServiceRef: ServiceRef<
  CostInsightsAwsService,
  'plugin',
  'singleton'
>;

// @public (undocumented)
export function createRouter(options: RouterOptions): Promise<express.Router>;

// @public (undocumented)
export interface RouterOptions {
  // (undocumented)
  auth?: AuthService;
  // (undocumented)
  cache: CacheService;
  // (undocumented)
  config: CostInsightsAwsConfig;
  // (undocumented)
  costInsightsAwsService: CostInsightsAwsService;
  // (undocumented)
  discovery: DiscoveryService;
  // (undocumented)
  httpAuth?: HttpAuthService;
  // (undocumented)
  logger: LoggerService;
}

// (No @packageDocumentation comment for this package)
```
